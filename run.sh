#!/bin/bash
#
# AISD_L3 - –°–∫—Ä–∏–ø—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (–¥–ª—è macOS/Linux)
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./run.sh –∏–ª–∏ bash run.sh
#

echo "=================================================="
echo "AISD_L3 - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ –≥—Ä–∞—Ñ–∞–º"
echo "=================================================="
echo ""

# –ü–æ–ª—É—á–∏—Ç—å –ø—É—Ç—å –∫ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–µ
PROJECT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ Python
if ! command -v python3 &> /dev/null; then
    echo "‚ùå –û—à–∏–±–∫–∞: Python3 –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
    echo "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.7 –∏–ª–∏ –≤—ã—à–µ"
    exit 1
fi

# –ü–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é Python
echo "‚úì Python –≤–µ—Ä—Å–∏—è:"
python3 --version
echo ""

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ main.py
if [ ! -f "$PROJECT_DIR/main.py" ]; then
    echo "‚ùå –û—à–∏–±–∫–∞: main.py –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ $PROJECT_DIR"
    exit 1
fi

# –í—ã–≤–µ—Å—Ç–∏ –º–µ–Ω—é
echo "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:"
echo "  1) –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é)"
echo "  2) –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é"
echo "  3) –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤"
echo "  0) –í—ã—Ö–æ–¥"
echo ""

read -p "–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é (0-3): " choice

case $choice in
    1)
        echo ""
        echo "üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã..."
        echo ""
        python3 "$PROJECT_DIR/main.py"
        ;;
    2)
        echo ""
        echo "üìä –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã..."
        echo ""
        python3 "$PROJECT_DIR/demo.py"
        ;;
    3)
        echo ""
        echo "üìÅ –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞..."
        echo ""
        python3 "$PROJECT_DIR/FILE_LIST.py"
        ;;
    0)
        echo "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!"
        exit 0
        ;;
    *)
        echo "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä"
        exit 1
        ;;
esac

